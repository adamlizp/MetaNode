# GoETHTask - ä»¥å¤ªåŠ Go å¼€å‘å­¦ä¹ é¡¹ç›®

è¿™æ˜¯ä¸€ä¸ªå®Œæ•´çš„ä»¥å¤ªåŠ Go å¼€å‘å­¦ä¹ é¡¹ç›®ï¼ŒåŒ…å«ä¸¤ä¸ªæ ¸å¿ƒä»»åŠ¡ï¼šåŒºå—é“¾åŸºç¡€æ“ä½œå’Œæ™ºèƒ½åˆçº¦äº¤äº’ã€‚

![](D:\Coding\Web3Learn\MetaNode\GoETHTask\img\Go-Ethereumï¼ˆGethï¼‰åˆ†å±‚æ¶æ„å›¾.png)

![äº¤æ˜“ç”Ÿå‘½å‘¨æœŸæµç¨‹å›¾](D:\Coding\Web3Learn\MetaNode\GoETHTask\img\äº¤æ˜“ç”Ÿå‘½å‘¨æœŸæµç¨‹å›¾.png)

![è´¦æˆ·çŠ¶æ€å­˜å‚¨æ¨¡å‹](D:\Coding\Web3Learn\MetaNode\GoETHTask\img\è´¦æˆ·çŠ¶æ€å­˜å‚¨æ¨¡å‹.png)

![architecture](D:\Coding\Web3Learn\MetaNode\GoETHTask\img\architecture.png)

![storage](D:\Coding\Web3Learn\MetaNode\GoETHTask\img\storage.png)

![transaction_flow](D:\Coding\Web3Learn\MetaNode\GoETHTask\img\transaction_flow.png)



## ğŸ“ é¡¹ç›®ç»“æ„

```
GoETHTask/
â”œâ”€â”€ README.md           # é¡¹ç›®ä¸»æ–‡æ¡£
â”œâ”€â”€ Makefile           # æ„å»ºå’Œè¿è¡Œè„šæœ¬
â”œâ”€â”€ .env.example       # ç¯å¢ƒé…ç½®ç¤ºä¾‹
â”œâ”€â”€ task1/             # ä»»åŠ¡1ï¼šåŒºå—é“¾åŸºç¡€æ“ä½œ
â”‚   â”œâ”€â”€ main.go        # ä¸»ç¨‹åº
â”‚   â”œâ”€â”€ config.go      # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ blockquery.go  # åŒºå—æŸ¥è¯¢åŠŸèƒ½
â”‚   â”œâ”€â”€ transaction.go # äº¤æ˜“å‘é€åŠŸèƒ½
â”‚   â”œâ”€â”€ go.mod         # Goæ¨¡å—æ–‡ä»¶
â”‚   â””â”€â”€ README.md      # Task1è¯¦ç»†æ–‡æ¡£
â””â”€â”€ task2/             # ä»»åŠ¡2ï¼šæ™ºèƒ½åˆçº¦äº¤äº’
    â”œâ”€â”€ main.go        # ä¸»ç¨‹åº
    â”œâ”€â”€ config.go      # é…ç½®ç®¡ç†
    â”œâ”€â”€ helper.go      # è¾…åŠ©å‡½æ•°
    â”œâ”€â”€ contracts/     # æ™ºèƒ½åˆçº¦
    â”‚   â””â”€â”€ Counter.sol
    â”œâ”€â”€ generated/     # ç”Ÿæˆçš„åˆçº¦ç»‘å®š
    â”‚   â””â”€â”€ counter.go
    â”œâ”€â”€ deploy.sh      # åˆçº¦éƒ¨ç½²è„šæœ¬
    â”œâ”€â”€ go.mod         # Goæ¨¡å—æ–‡ä»¶
    â””â”€â”€ README.md      # Task2è¯¦ç»†æ–‡æ¡£
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒè¦æ±‚

- **Go**: 1.20 æˆ–æ›´é«˜ç‰ˆæœ¬
- **Git**: ç”¨äºå…‹éš†é¡¹ç›®
- **Infura API Key**: ä» [https://infura.io](https://infura.io) è·å–
- **æµ‹è¯• ETH**: Sepolia æµ‹è¯•ç½‘çš„æµ‹è¯•ä»£å¸

**å¯é€‰ï¼ˆç”¨äº Task2ï¼‰**:
- **Solidity ç¼–è¯‘å™¨**: `solc` - ç”¨äºç¼–è¯‘æ™ºèƒ½åˆçº¦
- **abigen**: `go-ethereum` å·¥å…· - ç”¨äºç”Ÿæˆ Go åˆçº¦ç»‘å®š

### 2. å®‰è£…å’Œé…ç½®

```bash
# å…‹éš†é¡¹ç›®
git clone <repository-url>
cd GoETHTask

# åˆå§‹åŒ–é¡¹ç›®ç¯å¢ƒ
make setup

# ç¼–è¾‘é…ç½®æ–‡ä»¶
nano .env
```

åœ¨ `.env` æ–‡ä»¶ä¸­å¡«å…¥æ‚¨çš„é…ç½®ï¼š

```bash
INFURA_API_KEY=your_infura_api_key_here
TEST_PRIVATE_KEY=your_test_private_key_without_0x_prefix
```

### 3. è¿è¡Œé¡¹ç›®

```bash
# è¿è¡Œ Task1 - åŒºå—é“¾åŸºç¡€æ“ä½œ
make run-task1

# è¿è¡Œ Task2 - æ™ºèƒ½åˆçº¦äº¤äº’
make run-task2
```

## ğŸ“š ä»»åŠ¡è¯¦æƒ…

### Task1: åŒºå—é“¾åŸºç¡€æ“ä½œ

- ğŸ” **åŒºå—æŸ¥è¯¢**: æŸ¥è¯¢æŒ‡å®šåŒºå—æˆ–æœ€æ–°åŒºå—ä¿¡æ¯
- ğŸ’¸ **äº¤æ˜“å‘é€**: å‘é€ ETH è½¬è´¦åˆ° Sepolia æµ‹è¯•ç½‘
- âš™ï¸ **é…ç½®ç®¡ç†**: ç»Ÿä¸€çš„é…ç½®æ–‡ä»¶ç®¡ç†
- ğŸ›¡ï¸ **é”™è¯¯å¤„ç†**: å®Œå–„çš„é”™è¯¯å¤„ç†æœºåˆ¶

**ä¸»è¦åŠŸèƒ½**:
- è¿æ¥ Sepolia æµ‹è¯•ç½‘ç»œ
- æŸ¥è¯¢åŒºå—è¯¦ç»†ä¿¡æ¯ï¼ˆåŒºå—å·ã€å“ˆå¸Œã€æ—¶é—´æˆ³ã€äº¤æ˜“æ•°ç­‰ï¼‰
- å‘é€ä»¥å¤ªåŠäº¤æ˜“
- è‡ªåŠ¨è®¡ç®— Gas è´¹ç”¨
- å®æ—¶äº¤æ˜“çŠ¶æ€è·Ÿè¸ª

### Task2: æ™ºèƒ½åˆçº¦äº¤äº’

- ğŸš€ **åˆçº¦éƒ¨ç½²**: å°† Counter åˆçº¦éƒ¨ç½²åˆ° Sepolia æµ‹è¯•ç½‘
- ğŸ”„ **åˆçº¦äº¤äº’**: ä¸å·²éƒ¨ç½²çš„åˆçº¦è¿›è¡Œå„ç§æ“ä½œ
- ğŸ“Š **çŠ¶æ€æŸ¥è¯¢**: æŸ¥è¯¢åˆçº¦çš„å½“å‰çŠ¶æ€
- ğŸ¯ **äº‹ä»¶ç›‘å¬**: ç›‘å¬å’Œæ˜¾ç¤ºåˆçº¦äº‹ä»¶
- ğŸ”§ **ä»£ç ç”Ÿæˆ**: è‡ªåŠ¨ç”Ÿæˆ Go åˆçº¦ç»‘å®šä»£ç 

**Counter åˆçº¦åŠŸèƒ½**:
- `getCount()`: è·å–å½“å‰è®¡æ•°å€¼
- `increment()`: é€’å¢è®¡æ•°å™¨
- `decrement()`: é€’å‡è®¡æ•°å™¨ï¼ˆä¸èƒ½å°äº0ï¼‰
- `incrementBy(uint256)`: æŒ‰æŒ‡å®šå€¼é€’å¢
- `reset()`: é‡ç½®è®¡æ•°å™¨ä¸º0

## ğŸ› ï¸ å¼€å‘å·¥å…·

### Makefile å‘½ä»¤

```bash
make help        # æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
make setup       # åˆå§‹åŒ–é¡¹ç›®ç¯å¢ƒ
make build       # ç¼–è¯‘æ‰€æœ‰ä»»åŠ¡
make clean       # æ¸…ç†ç¼–è¯‘æ–‡ä»¶
make test        # è¿è¡Œæµ‹è¯•
make run-task1   # è¿è¡Œ Task1
make run-task2   # è¿è¡Œ Task2
make contract    # ç¼–è¯‘æ™ºèƒ½åˆçº¦å¹¶ç”Ÿæˆç»‘å®š
make check       # æ£€æŸ¥ç¯å¢ƒé…ç½®
```

### ç¯å¢ƒå˜é‡

| å˜é‡å | æè¿° | å¿…éœ€ |
|--------|------|------|
| `INFURA_API_KEY` | Infura API å¯†é’¥ | âœ… |
| `TEST_PRIVATE_KEY` | æµ‹è¯•è´¦æˆ·ç§é’¥ | âœ… |
| `CUSTOM_RPC_URL` | è‡ªå®šä¹‰ RPC ç«¯ç‚¹ | âŒ |
| `DEFAULT_TO_ADDRESS` | é»˜è®¤æ¥æ”¶åœ°å€ | âŒ |

## ğŸ”§ æŠ€æœ¯æ¶æ„

### æ ¸å¿ƒæŠ€æœ¯æ ˆ

- **Go è¯­è¨€**: ä¸»è¦å¼€å‘è¯­è¨€
- **go-ethereum**: ä»¥å¤ªåŠ Go å®¢æˆ·ç«¯åº“
- **Solidity**: æ™ºèƒ½åˆçº¦å¼€å‘è¯­è¨€
- **Infura**: ä»¥å¤ªåŠèŠ‚ç‚¹æœåŠ¡æä¾›å•†
- **Sepolia**: ä»¥å¤ªåŠæµ‹è¯•ç½‘ç»œ

### è®¾è®¡ç‰¹ç‚¹

- **æ¨¡å—åŒ–è®¾è®¡**: æ¸…æ™°çš„ä»£ç ç»“æ„å’ŒèŒè´£åˆ†ç¦»
- **é…ç½®ç®¡ç†**: ç»Ÿä¸€çš„ç¯å¢ƒå˜é‡é…ç½®
- **é”™è¯¯å¤„ç†**: å®Œå–„çš„é”™è¯¯å¤„ç†å’Œç”¨æˆ·æç¤º
- **ç±»å‹å®‰å…¨**: åˆ©ç”¨ Go çš„ç±»å‹ç³»ç»Ÿç¡®ä¿ä»£ç å®‰å…¨
- **è‡ªåŠ¨åŒ–**: Makefile å’Œè„šæœ¬è‡ªåŠ¨åŒ–å¸¸è§ä»»åŠ¡

## ğŸ›¡ï¸ å®‰å…¨æœ€ä½³å®è·µ

- âœ… **æµ‹è¯•ç½‘ç»œ**: ä»…åœ¨ Sepolia æµ‹è¯•ç½‘ä½¿ç”¨
- âœ… **ç¯å¢ƒå˜é‡**: æ•æ„Ÿä¿¡æ¯å­˜å‚¨åœ¨ç¯å¢ƒå˜é‡ä¸­
- âœ… **ç§é’¥ç®¡ç†**: æ˜ç¡®æ ‡æ³¨æµ‹è¯•ç§é’¥ï¼Œé¿å…ä¸»ç½‘ä½¿ç”¨
- âœ… **è¾“å…¥éªŒè¯**: å¯¹ç”¨æˆ·è¾“å…¥è¿›è¡ŒéªŒè¯
- âœ… **é”™è¯¯å¤„ç†**: å®Œå–„çš„é”™è¯¯å¤„ç†æœºåˆ¶

## ğŸ“– å­¦ä¹ è·¯å¾„

### åˆå­¦è€…
1. ä» Task1 å¼€å§‹ï¼Œäº†è§£åŒºå—é“¾åŸºç¡€æ¦‚å¿µ
2. å­¦ä¹ å¦‚ä½•è¿æ¥ä»¥å¤ªåŠç½‘ç»œ
3. æŒæ¡åŒºå—æŸ¥è¯¢å’Œäº¤æ˜“å‘é€

### è¿›é˜¶å¼€å‘è€…
1. å­¦ä¹  Task2 çš„æ™ºèƒ½åˆçº¦äº¤äº’
2. ç†è§£åˆçº¦éƒ¨ç½²å’Œè°ƒç”¨è¿‡ç¨‹
3. æŒæ¡äº‹ä»¶ç›‘å¬å’ŒçŠ¶æ€ç®¡ç†

### é«˜çº§å¼€å‘è€…
1. è‡ªå®šä¹‰æ™ºèƒ½åˆçº¦
2. æ‰©å±•åˆçº¦åŠŸèƒ½
3. å®ç°å¤æ‚çš„ DApp é€»è¾‘

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **è¿æ¥å¤±è´¥**
   - æ£€æŸ¥ç½‘ç»œè¿æ¥
   - éªŒè¯ Infura API Key
   - ç¡®è®¤ RPC URL æ­£ç¡®

2. **äº¤æ˜“å¤±è´¥**
   - ç¡®è®¤è´¦æˆ·æœ‰è¶³å¤Ÿçš„æµ‹è¯• ETH
   - æ£€æŸ¥ç§é’¥æ ¼å¼ï¼ˆ64ä½åå…­è¿›åˆ¶ï¼Œæ— 0xå‰ç¼€ï¼‰
   - éªŒè¯æ¥æ”¶åœ°å€æ ¼å¼

3. **åˆçº¦äº¤äº’å¤±è´¥**
   - ç¡®è®¤åˆçº¦åœ°å€æ­£ç¡®
   - æ£€æŸ¥åˆçº¦æ˜¯å¦å·²éƒ¨ç½²
   - éªŒè¯æ–¹æ³•è°ƒç”¨å‚æ•°

4. **ç¼–è¯‘é”™è¯¯**
   - æ£€æŸ¥ Go ç‰ˆæœ¬ï¼ˆéœ€è¦ 1.20+ï¼‰
   - è¿è¡Œ `make deps` å®‰è£…ä¾èµ–
   - æ£€æŸ¥ solc å’Œ abigen æ˜¯å¦å®‰è£…

### è·å–æµ‹è¯• ETH

- [Sepolia Faucet](https://sepoliafaucet.com/)
- [Alchemy Sepolia Faucet](https://sepoliafaucet.com/)
- [QuickNode Faucet](https://faucet.quicknode.com/sepolia)

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. æ‰“å¼€ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®ä»…ç”¨äºå­¦ä¹ å’Œæ•™è‚²ç›®çš„ã€‚ä»£ç ä½¿ç”¨ MIT è®¸å¯è¯ã€‚

## ğŸ™ è‡´è°¢

- [go-ethereum](https://github.com/ethereum/go-ethereum) - ä»¥å¤ªåŠ Go å®ç°
- [Infura](https://infura.io) - ä»¥å¤ªåŠåŸºç¡€è®¾æ–½æœåŠ¡
- [Sepolia](https://sepolia.dev) - ä»¥å¤ªåŠæµ‹è¯•ç½‘ç»œ

---

**æ³¨æ„**: è¿™æ˜¯ä¸€ä¸ªæ•™è‚²é¡¹ç›®ï¼Œè¯·å‹¿åœ¨ä¸»ç½‘ç¯å¢ƒä¸­ä½¿ç”¨ã€‚æ‰€æœ‰ç¤ºä¾‹éƒ½åŸºäº Sepolia æµ‹è¯•ç½‘ç»œã€‚